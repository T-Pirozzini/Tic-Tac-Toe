(()=>{const e=Array.from(document.querySelectorAll(".tile")),r=document.querySelector(".display-player"),n=document.querySelector("#reset"),s=document.querySelector(".announcer");let a=["","","","","","","","",""],t="X",c=!0;const l="PLAYERX_WON",i="PLAYERO_WON",o=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],d=e=>{switch(e){case i:s.innerHTML='Player <span class="playerO">O</span> Won';break;case l:s.innerHTML='Player <span class="playerX">X</span> Won';break;case"TIE":s.innerText="Tie"}s.classList.remove("hide")},y=()=>{r.classList.remove(`player${t}`),t="X"===t?"O":"X",r.innerText=t,r.classList.add(`player${t}`)},L=(e,r)=>{(e=>"X"!==e.innerText&&"O"!==e.innerText)(e)&&c&&(e.innerText=t,e.classList.add(`player${t}`),(e=>{a[e]=t})(r),function(){let e=!1;for(let r=0;r<=7;r++){const n=o[r],s=a[n[0]],t=a[n[1]],c=a[n[2]];if(""!==s&&""!==t&&""!==c&&s===t&&t===c){e=!0;break}}if(e)return d("X"===t?l:i),void(c=!1);a.includes("")||d("TIE")}(),y())};e.forEach(((e,r)=>{e.addEventListener("click",(()=>L(e,r)))})),e.forEach(((e,r)=>{e.addEventListener("click",(()=>L(e,r)))})),n.addEventListener("click",(()=>{a=["","","","","","","","",""],c=!0,s.classList.add("hide"),"O"===t&&y(),e.forEach((e=>{e.innerText="",e.classList.remove("playerX"),e.classList.remove("playerO")}))}))})();